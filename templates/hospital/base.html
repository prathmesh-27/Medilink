<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} Home {% endblock %}</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="{% static 'css/diet.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" defer></script>
</head>

<body>
    {%include 'hospital/other/navbar.html' %}

    {% if df_html %}
    <div class="container mt-5">
        <h3>Diet Results</h3>
        <div>
            {{ df_html | safe }}
        </div>
    </div>
    {% endif %}




    {% block content %}
    {% endblock content %}

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const nutrients = [
                'calcium', 'carbohydrates', 'chloride', 'fiber', 'iron',
                'magnesium', 'manganese', 'phosphorus', 'potassium',
                'protein', 'selenium', 'sodium', 'vitamin_a', 'vitamin_c', 'vitamin_e'
            ];

            const health_conditions = [
                'anemia', 'cancer', 'diabetes', 'eye_disease', 'goitre',
                'heart_disease', 'hypertension', 'kidney_disease',
                'obesity', 'pregnancy', 'rickets', 'scurvy'
            ];

            function generateCheckboxes(containerSelector, items, name) {
                const grid = document.querySelector(containerSelector);
                if (!grid) return console.error(`Error: ${containerSelector} not found!`);

                grid.innerHTML = items.map(item => `
            <div class="checkbox-wrapper">
                <input type="checkbox" id="${item}" name="${name}" value="${item}">
                <label for="${item}">${formatString(item)}</label>
            </div>
        `).join('');
            }

            function formatString(str) {
                return str.replace(/_/g, ' ') // Replace underscores with spaces
                    .replace(/\b\w/g, char => char.toUpperCase()); // Capitalize first letter
            }

            generateCheckboxes('.section:nth-of-type(1) .grid', nutrients, "nutrients");
            generateCheckboxes('.section:nth-of-type(2) .grid', health_conditions, "health_conditions");
        });

    </script>
</body>


</html>